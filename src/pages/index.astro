---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Hero from "../components/Hero.astro";

const response = await fetch(
"https://api.consumet.org/anime/gogoanime/top-airing"
);
const data = await response.json();
const animes = data.results;

console.log(animes)
---

<Layout title="Anime Hub.">
    <main>
        <Hero />
        <ul role="list" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 xl:gap-8 max-w-screen-xl px-4 md:px-8 mx-auto">
            {animes.length ? (
            animes.map((anime) =>
            <Card anime={anime} />)
            ) : (
            <p>No anime at the moment</p>
            )}
        </ul>
    </main>
</Layout>
